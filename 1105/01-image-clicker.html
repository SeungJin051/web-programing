<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Image Click to Place Dot With Event Info</title>
		<style>
			#imageContainer {
				position: relative;
				display: inline-block;
			}
			#myImage {
				width: 500px;
				height: auto;
			}

			.dot {
				position: absolute;
				width: 10px;
				height: 10px;
				border-radius: 50%;
				transform: translate(-50%, -50%);
			}

			#eventInfo {
				width: 500px;
				height: 500px;
				margin-top: 20px;
			}
		</style>
	</head>
	<body>
		<h2>
			이미지를 클릭하면 클릭한 이미지의 정보를 알려주고 스티커를 붙입니다.
		</h2>
		<div id="imageContainer">
			<img src="../image/capybara.jpg" id="myImage" alt="Click Image" />
		</div>
		<div>
			<textarea readonly id="eventInfo"></textarea>
		</div>

		<script>
			const imageContainer = document.getElementById('imageContainer');
			const image = document.getElementById('myImage');
			const eventInfo = document.getElementById('eventInfo');

			myImage.onclick = event => {
				// 이미지 좌표
				const rect = image.getBoundingClientRect();
				const x = event.clientX - rect.left;
				const y = event.clientY - rect.top;

				const dot = document.createElement('div');
				dot.classList.add('dot');
				dot.style.left = `${x}px`;
				dot.style.right = `${y}px`;

				// 이미지 절반
				const haifWidth = rect.width / 2;

				dot.style.backgroundColor = x < haifWidth ? 'red' : 'blue';

				imageContainer.appendChild(dot);
				displayEvnetInfo(event);
			};

			function displayEvnetInfo(event) {
				const info = `
			       currentTarget: ${event.currentTarget.tagName}
			       detail: ${event.detail}
			       target: ${event.tagName}
			       type: ${event.type}
			       clientX: ${event.clientX}, clientY: ${event.clientY}
			     `;
				eventInfo.value = info;
			}
		</script>
	</body>
</html>
